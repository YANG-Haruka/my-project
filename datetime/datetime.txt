           val (输入值)
               │
       ┌───────┼────────┐
       │                │
 是 datetime 吗？       是 str 吗？
       │                │
     是✔️               是✔️
       ↓                ↓
 return 格式化        空吗？否✔️
  "%Y-%m"              ↓
                  strip 清理空格
                       ↓
                遍历格式列表
                尝试 str → datetime
                如果成功，输出 "%Y-%m"
                       ↓
                   都失败 → 返回 None
